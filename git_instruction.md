![Программа Git](Git-Logo-Black.png)
# GIT. Работа с контролем версий. Инструкция.

## 1. Проверка наличия установленного Git.

В терминале выполнить команду `git version` or `git -v`

``` 
git version        
```
Если Git устанволен, появится сообщение о версии программы, вида: -  git version 2.38.1.windows.1   Цифры могут отличаться, в зависимости от установленной версии.
Иначе, увидим сообщение об ошибке.

## 2. Установка Git.

Устанавливаем последнюю версию Git  с сайта:
https://git-scm.com/download   Устанавливаем с настройками по умолчанию.

## 3. Настройка Git.  

При первом использовании Git, пользователю  необходимо представиться. Для этого необходимо в терминале выполнить две команды:
```
git config --global user.name "Ваше имя англискими буквами"

git config --global user.email "Ваша электронная почта"
```

## 4. Первые шаги при работе с Git.

### 4.1 Инициализация Git.

Для того чтобы, Git начал отслеживать изменения в проекте (папках, файлах и т.д.) небходимо создать репозиторий, или другими словами инциализировать Git. Делается эт при помощи команды `git init`.
```
git init
```
После исполнения данной команды, пользователь увидит сообщение от программы вида: `Initialized existing Git repository in C:/<Users/путь к вашему репозиторию/.git/`  в котором программа сообщит о том, что начались отслеживаться изменения в <ваши папки и файлы>.

### 4.2 Запись изменений в репозиторий.

После того как наш репозиторий инициализирован, программа начинает отслеживать все изменения сделанные пользователем в репозитории.  Если пользователь желает сохранить сделанные изменения в файлах, то необходимо воспользоваться следующими командами:

4.2.1. `git status` - команда позволяющая проверить в каких объектах репозитория есть незафиксированные изменения.
```
git status
```

После исполнения данной команды, пользователь увидит сообщение от Git вида:

`Changes not staged for commit:
(use "git add <file>..." to update what will be committed)
(use "git restore <file>..." to discard changes in working directory)`

    modified:   git_instruction.md

`no changes added to commit (use "git add" and/or "git commit -a")`

где красным цветом будут выделены папки и файлы, в которых имеются незафиксированные изменения.


4.2.2. `git add` -  команда позволяет подготовить необходимый файл к записи изменений в нем.
```   
git add <имя файла>
```

Если после выполнения данной команды, пользователь не увидел никаких сообщений об ошибках, то все хорошо, файл подготовлен к записи изменений в нем.
Это можно проверить, снова введя в терминале команду `git status`, после выполнения которой на этот раз пользователь увидит сообщение вида:

`On branch master
Your branch is ahead of 'origin/master' by 9 commits.
(use "git push" to publish your local commits)

Changes to be committed:
(use "git restore --staged <file>..." to unstage)
```
modified:   git_instruction.md 
```
Пользователь находится в ветке master, и название измененного файла будет выделено на этот раз не красным, а зеленым цветом. Далее можно смело делать коммит.


4.2.3. `git commit -m "Ваш комментарий к коммиту"`- команда позволяет сохранить сделанные изменения в файле, и прокомментировать данное действие, для того чтобы в дальнейшем было удобно работать с данным файлом. Пользователь всегда может вернуться в нужное место, благодаря оставленным ранее комментариям - что и когда изменено в файле.

```
git commit -m "Ваш комментарий"
```

4.2.4. `git diff` - есть еще команда git diff, позволяющая просмотреть различия между текущим состоянием файла, и его крайним сохранением. В результате исполнения данной команды, пользователь увидит построчно какие изменения произошли с рабочим файлом.
```
git diff
```

### 4.3 Просмотр истории коммитов.

При долгой работе с исходным файлом, у пользователя может быть сохранено большое множестов коммитов. Для того, чтобы просмотреть историю записи коммитов, необходимо воспользоваться командой: - `git log`
```
git log
```
Результатом исполнения команды будет список коммитов от последнего к первому, с хешкодом каждого. По данному хешкоду в дальнейшем можно просмотреть предыдущие состояния файлов.

Также историю коммитов можно просмотреть при помощи команды `git log --graph`. Используя данную команду, мы увидим дерево коммитов в графическом виде:

![tree of commits](tree%20of%20commits.jpg)

Что тоже может быть очень удобно, когда над одним проектом работают разные исполнители, и делают изменения в разных частях программы, в разных ветках. Можно по данному дереву коммитов отследить, кто, когда и где вносил какие либо изменения в файлы.
### 4.4 Перемещение между сохранениями (коммитами).

Для перемещения между сохранениями необходимо воспользоваться командой : - `git checkout` c указанием хешкода необходимого сохранения (достаточно указать первые 4 символа хешкода).
```
git checkout <хеш код>
```

Необходимо также помгить, что после переходов между различными состояниями файла, для того чтобы продолжить работу с ним, необходимо вернуться в исходное состояние при помощи команды: - `git checkout master`

```
git checkout master
```
Желательно также проверить, что мы действительно перешли к исходному состоянию, и находимся в ветке `master`,  воспользовавшись командой `git status`.
```
git status
```
Это первый минимальный набор команд, который поможет начать осваиваться с программой Git.

##  5. Игнорирование файлов в Git.
Для того, чтобы исключить из отслеживания в репозитории определенные файлы или папки, необходимо в репозитории создать файл __*.gitignore*__ в тексте которого необходимо указать названия конкретных файлов или папок. Допускается указание шаблонов соответсвующих данным файлам или папкам.
```
.gitignore
```

## 6. Создание веток в Git.

Ветка Git - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов. По умолчанию имя основной ветки git - _**master**_.  

Для того чтобы создать ветку в Git необходимо воспользоваться командой _**git branch <branch_name>**_,  где <branch_name> - это имя новой создаваемой ветки.

```
git branch <branch_name>

где <branch_name> - имя новой ветки.
```
В результате создается новый указатель на текущий коммит.


Список веток в репозитории можно посмотреть при помощи команды _**git branch**_.
```
git branch
```
Текущая ветка будет отмечена звездочкой: - _**\*master**_ и подсвечена зеленым цветом. 

## 7. Слияние веток и разрешение конфликтов.

Для слияния выбранной ветки с текущей нужно выполнить команду: _**git merge <имя выбранной ветки>**_.
```
git merge <имя выбранной ветки>
```
Происходит добавление из выбранной ветки в текущую.
Если была по разному изменена одна и та же часть файла в сливаемых ветках, то при слиянии произойдет конфликт, который потребует участия пользовтаеля для разрешения последнего. VS CODE (дополнительный функционал для работы с программой git) предложит варианты разрешения конфликта. А именно, пользователю будет предложено на выбор четыре варианта: 
* Оставить при слиянии информацию, которая содержится в текущей ветке.
* Оставить при слиянии информацию, пришедшую из входящей ветки (той ветки, которую мы сливаем в текущую).
* Оставить информацию из обоих веток.
* Сравнить информацию.

Слияния веток при возникновении конфликта, соответственно сразу не произойдет. Сначала пользователю необходимо разрешить конфликт, выбрать информацию, которую он желает оставить, удалить все лишнее, и уже после можно сохранить все изменения. То есть закоммитить все изменения. 


## 8. Удаление веток в Git.
Для удаления веток в Git необходимо воспользоваться командой `git branch -d <имя ветки>`
```
git branch -d <имя ветки>
```
Флаг `-d`    от английского слова `Delete` (удалить). После флага указываем имя ветки, которую желаем удалить.

Иногда может произойти ситуация, когда приведеная выше команда не сработает. Это может произойти, если в ветке, которую мы пытаемся удалить имеются несохранненые коммиты,  данная ветка не была слита с другой веткой. Например, мы можем увидеть вот такое сообщение:

![can't_delete_branch](can't_delete_branch.jpg)

Тогда необходимо либо разрешить проблему, закоммитить все несохраненные изменения и слить их в нужную ветку, либо воспользоваться командой `git branch -D <имя ветки>`, 
```
git branch -D <имя ветки>
```
где флаг `-D` будет указан с заглавной буквы. Он обозначает - принудительное удаление. Мы говорим программе, что мы понимаем, что делаем.

## 9. Работа с удалёнными репозитариями.

Все что мы рассматривали в нашей инструкции выше, относилось к работе в программе Git  с локальными репозитариями.  Однако, при помощи `Git` -а мы можем рабтать с удалёнными репозитариями.

Одним из самых наиболее известных сервисов,с удаленными репозитариями является сервис `Github`.
И ниже будут даны основные команды для работы с удаленными репозиториями.

Описание будет дано на примере работы с сервисом `Github`.
Итак, для того чтобы работать с удаленными репозиториями, необходимо предварительно проделать следующие шаги:
#### 1. Зарегистрировать аккаунтв сервисе `Github`.
#### 2. Создать локальный репозиторий у себя на устройстве.
#### 3. Создать удаленный репозиторий на `Github`.
#### 4. Далее необходимо так сказать "подружить" ваш локальный репозиторий с вашим аккаунтом в сервисе `Github`.  Для этого в сервисе `Gihub` необходимо обязательно быть авторизованным и  далее воспользоваться командой:

`git remote add origin <https://путь к вашему удаленному репозиторию на Github>`
```
git remote add origin <https://путь к вашему удаленному репозиторию>
```

Ну и теперь возможны два варианта взаимодействия локального репозитория с удаленным. Можно отправлять информацию (изменения в файлах) с локального репозитория на удаленный,и можно наоборот скачивать информацию (изменения в файлах) с удаленного репозитория к себе на локальный репозиторий.

Соответственно команды следующие:

* Для отправки изменений в локальном репозитории на удаленный репозиторий необходимо воспользоваться командой:
`git push`.
```
git push
```

* Для получения (выкачивания) актуальной информации с удаленного репозитория к себе в локальный, необходимо воспользоватьсякомандой: `git pull`.

```
git pull
```

## 10. Open Sourse Project. Работа в проектах с открытым исходным кодом. 

Умение работать с удаленными репозиториями позволяет работать в проектах с открытым исходным кодом. Либо изучать код этих проектов.  

Для того чтобы, "поработать" с заинтересовавшим нас проектом, необходимо    `fork`- нуть заинтересовавший нас репозиторий. В результате у себя в аккаунте появится полнейшая копия этого репозитория. Делается это тут:
![FORK](fork.jpg)

Далее у нас в аккаунте появится полнейшая копия интересующего нас репозитория. Мы можем работать с копией как непосредственно у себя в аккаунте `Github`, так и у себя на локальном устройстве. Для этого необходимо склонировать репозиторий к себе на устройство:
сначала нажимаем здесь:
![CODE](code.bmp)

далее жмем здесь:

![путь к репозиторию](path.jpg)

в результате в памяти будет сохранен путь к репозиторию.

И далее в терминале VCCODE выполнить команду:

`git clone <путь к репозиторию>`

```
git clone <путь к репозиторию>
```
Далее мы можем спокойно работать с полученным репозиторием. Создаем новую ветку:
`git branch <имя новой ветки>`.

```
git branch <имя новой ветки>
```
Создаем новый файл, вносим в него необходимые изменения, и уже после мы можем предложить свои доработки владельцу исходного репозитория на рассмотерние.
Для этого измененный репозиторий "пушим" к себе в аккаунт `Ginhub` командой:
`git push`.
```
git push
```
 И у нас в аккаунте `Github` появится возможность сделать (появится кнопка) `Pull Request`. После создания последнего у владельца исходного репозитория появится информация о нашем предложении. И владелец репозитория может либо принять наши доработки, либо отправить нам назад для доработки.