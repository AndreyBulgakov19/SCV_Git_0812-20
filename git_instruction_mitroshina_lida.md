![logo](git_logo.jpeg)

# Работа с гит
## 1. Наличие установленного гит
В терминале введем команду `git version`

Пример вставки кода на Python:

```Python
while True:
    print("Love you")
```
Если гит установлен появится сообщение c информацией о версии гита, 
иначе будет сообщение об ошибке.

## 2. Установка git
Загружаем последнюю версию с сайта 

https://git-scm.com/downloads 

Устанавливаем с настройками по умолчанию.

## 3. Настройка гит. 
При первом использовании гит необходимо представится. Для этого нужно выполнить в терминале команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```

## 4. Инициализация репозитория 
Открыть терминал.

Создать папку c проектом, перейти в папку    
```
cd  «имя папки с проектом»
```
Cоздание локального репозитория, делается командой:
```
git init
```

## 5. Запись изменений
Создать файл/файлы для отслеживания изменений.
Получить информацию от гит о его текущем состоянии, можно командой:
```
git status
```
Добавить файл для отслеживания изменений можно командой:
```
git add «имя файла»
```
Добавить все файлы в папке с проектом для отслеживания изменений можно командой:
```
git add .
```
или
```
git add --all
```

Cоздать коммит в консоли(самый быстрый и удобный способ) можно командой:
```
git commit -m «текст коммита»
```
Изменить описание последнего коммита можно командой: 
``` 
git commit --amend -m «Измененный текст коммита»
```
Добавить все измененные файлы в гит и сделать коммит(совмещенная команда `git add` и `git commit`)
```
git commit -am "текст коммита"
```  
Добавить все измененные файлы в гит и сделать коммит в редакторе по умолчанию, vim(клавиша `i` - ввод комментария, написать текст коммита, ввести `:wq` + `Enter`)
```
git commit -a
```

## 6. Просмотр истории комитов
Вывести на экран историю всех коммитов с их хеш-кодами можно командой:
```
git log
```
Вывести на экран историю всех коммитов с их хеш-кодами, описание коммита в одну строку, можно командой 
```
git log --oneline
``` 
Показать коммиты и какие изменения были внесены, можно командой:
```
git log -p
```

## 7. Перемещение между изменениями

Перейти на нужный коммит, можно командой:
```
git checkout «первые 4 символа хэш кода коммита»
```
Вернуться к актуальному состоянию и продолжить работу, можно командой:
```
git checkout master
```

Увидеть разницу между текущим файлом и закоммиченным файлом, можно командой:
```
git diff
```

## 8. Игнорирование файлов

Для того чтобы исключить из отслеживания в репозитории определенные файлы или папки, необходимо создать файл ***gitignore*** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.
Пример игнорирования файлов с расширением .jpeg:
```
*.jpeg
```
Пример игнорирования файла 1.jpeg:
```
picture.jpeg
```
Пример игнорирования папки /temp:
```
/temp
```
Для добавления файла .gitignore необходимо сделать:
```
git add .gitignore
git commit -m "добавить файл .gitignore"
```
тогда файлы будут исключены из отслеживания.

## 9. Создание веток git

В результате создается новый указатель на текущий коммит.
Ветка git - это простой перемещаемый указатель на один из комитов, обычно последний в цепочке коммитов.
По умолчанию имя основной ветки в git - *master*.

Создать ветку можно командой:
```
git branch <имя новой ветки>
```
Текущая ветка будет отмечена звездочкой: **\*master**

Создать ветку и перейти на эту ветку можно командой:
```
git switch -c <имя новой ветки>
```
или 
```
git checkout -b <имя новой ветки>
```

## 10. Слияние веток и разрешение конфликтов.
Для слияния выбранной ветки с текущей нужно выполнить команду:
```
git merge <название ветки>
```
Если была изменена одна и таже часть файла то могут возникнуть конфликты, которые потребуют участия пользователя. Vscode предлагает варианты разрешения.

Пример на скриншоте:
![logo](merge_conflicts.png)

Сделать коммит слияние после разрешения конфликта командами:
```
git add <измененный файл>
```
и 
```
git commit -m "конфликт разрешен"
```

## 11. Удаление веток.

Для того чтобы удалить ветку, необходимо выполнить команду:
```
git branch -d <имя ветки>
```
Если текущая ветка совпадает с удаляемой веткой, то гит выдаст ошибку, например:
```
error: Cannot delete branch 'mergeBranches' checked out at 'C:/Users/lida/gitbrains/git_instruction'
```
Если ветка никуда не вмержена, то гит выдаст ошибку, например:
```
error: The branch 'branches' is not fully merged.
If you are sure you want to delete it, run 'git branch -D branches'.
```
Для того чтобы принудительно удалить ветку(ветка которая не вмержена в мастер например), необходимо выполнить команду:
```
git branch -D <имя ветки>
```

## Работа с удаленным репозиторием

1. Создать аккаунт на гитхаб
2. создать локальный репозиторий
3. "Подружить" ваш локальный и удаленный репозиторий. Гитхаб при создании нового репозитория подскажет как это можно сделать
Добавить удаленный репозиторий к проекту 
```
git remote add <имя удаленного репозитория> <url адрес репозитоория>
```
1. Отправить изменения из вашего локального репозитория в удаленный на гитхаб, с помощью команды:
```
git push -u origin main/master
```
при этом вам, возможно, нужно будет авторизоваться на удаленном репозитории.
1. Произвести изменения с другого компьютера.
2. Выкачать pull актуальную информацию из удаленного репозитория.

## Запрос на изменение (pull request)
1. Зайти на github.com
2. В своём аккаунте на GitHub создать копию репозитория с помощью кнопки "Fork".
3. Клонировать копию репозитория на локальный компьютер, с помощью команды:
```
git clone <https ссылку из github>
```
4. Создать новую ветку.
5. Добавить изменения в новую ветку.
6. Зафиксировать изменения (коммиты).
7. Отправить изменения на GitHub, с помощью команды 
```
git push 
```
8. На сайте GitHub выполнить Pull request, появится кнопка "compare/pull request"
